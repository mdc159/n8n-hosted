# Override for local testing (HTTP only, no TLS)
# Docker Compose automatically loads this file alongside docker-compose.yml
#
# Usage:
#   docker compose up -d              # Uses override (local testing)
#   docker compose -f docker-compose.yml up -d  # Production only (no override)
#
# Note: Delete or rename this file on production deployment

services:
  caddy:
    ports:
      - "8080:80"     # Use 8080 to avoid conflicts with local services
      - "8443:443"    # HTTPS port (unused in local testing)
    volumes:
      - ./Caddyfile.local:/etc/caddy/Caddyfile:ro

  n8n:
    environment:
      - N8N_HOST=localhost
      - N8N_PROTOCOL=http
      - WEBHOOK_URL=http://localhost:8080/
      - N8N_SECURE_COOKIE=false
